.grass-field {
  position: absolute;
  bottom: 0;       /* Collé au bas du main */
  left: 0;
  width: 100%;      /* Toute la largeur */
  height: 80px;     /* Espace réservé pour l'herbe */
  z-index: 15;
  pointer-events: none; /* Ne bloque pas le clic sur la ruche */
}

.grass {
  position: absolute;
  bottom: 0;        /* Toutes partent du sol */
  width: 5px;
  background: #183a04;
  border-radius: 50% 50% 0 0;
  transform-origin: bottom center;
  animation: grassSway 3s ease-in-out infinite alternate;
}

@keyframes grassSway {
  0% { transform: rotate(-8deg) skewX(-5deg); }
  100% { transform: rotate(8deg) skewX(5deg); }
}


@keyframes treeSway {
  0% { transform: rotate(-2deg) translateX(-2px); }
  100% { transform: rotate(2deg) translateX(2px); }
}

/* --- Styles Communs aux Arbres --- */
.tree {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    transform-origin: bottom center;
    animation: swayTree 4s ease-in-out infinite alternate;
    z-index: 5;
}

.tree .foliage::after {
    content: '';
    position: absolute;
    top: 10%;
    left: 15%;
    width: 20%;
    height: 10%;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    filter: blur(5px); /* Adoucit énormément le reflet */
}

.trunk {
    width: 14px;
    height: 35px;
    background: #5D4037; /* Marron tronc */
    border-radius: 2px;
    margin-top: -5px; /* Pour masquer la jonction */
}

/* --- Style 1 : Arbre Goutte --- */
#a1
{
    left: 15%;
    top: 30%;
}

#a2
{
    right:10%;
    top: 30%;
}

.teardrop .foliage {
    width: 70px;
    height: 180px;
    /* Effet bicolore net : clair à gauche, sombre à droite */
    background: linear-gradient(110deg, #91bd5e 20%, #76a347 60%);
    /* Forme de goutte : très pointu en haut, arrondi en bas */
    border-radius: 50% 50% 50% 50% / 100% 100% 30% 30%;
}

/* --- Style 2 : Arbre Nuage --- */
/* --- Configuration de l'arbre "Nuage" --- */
.tree.cloud {
    position: absolute; /* Positionnement sur la scène */
    bottom: 10%;        /* Un peu plus haut pour l'exemple */
    right: 15%;         /* Position à droite */
    width: 180px;       /* Largeur totale augmentée pour plus de volume */
    height: 220px;      /* Hauteur totale augmentée */
    display: block;     /* On s'assure que ce n'est pas un flex */
    z-index: 5;
}

/* Le Tronc : Centré et en bas */
.tree.cloud .trunk {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%); /* Centrage horizontal parfait */
    width: 20px;        /* Un peu plus large */
    height: 70px;       /* Plus haut pour soutenir le gros feuillage */
    background: #5D4037; /* Couleur marron unie */
    border-radius: 3px;
    z-index: 1;         /* Derrière le feuillage */
}

/* Le Feuillage Principal (Conteneur) */
.tree.cloud .foliage {
    position: absolute;
    bottom: 55px;       /* Posé sur le haut du tronc */
    left: 50%;
    transform: translateX(-50%); /* Centré horizontalement */
    width: 140px;       /* Corps principal plus large */
    height: 120px;      /* Corps principal plus haut */
    /* Dégradé subtil pour le volume, style "plat" */
    background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);
    /* Forme de base irrégulière */
    border-radius: 60% 70% 50% 60% / 60% 60% 50% 50%;
    z-index: 3;         /* Devant le tronc */
    /* Animation de balancement doux */
    animation: swayTree 4s ease-in-out infinite alternate;
}

/* --- Les "Boursouflures" (Pseudo-éléments) --- */
/* Styles communs pour les boursouflures */
.tree.cloud .foliage::before,
.tree.cloud .foliage::after {
    content: '';
    position: absolute;
    background: inherit; /* Hérite du dégradé du parent */
    border-radius: 50%;  /* Formes rondes */
}

/* Grosse boursouflure en haut à gauche */
.tree.cloud .foliage::before {
    width: 100px;
    height: 100px;
    top: -40px; /* Plus haut */
    left: -30px; /* Plus à gauche */
}

/* Grosse boursouflure en haut à droite */
.tree.cloud .foliage::after {
    width: 90px;
    height: 90px;
    top: -25px; /* Plus haut */
    right: -35px; /* Plus à droite */
}



/* --- Pour ajouter encore PLUS de boursouflures (Optionnel) --- */
/* On peut utiliser un élément enfant supplémentaire pour une 3ème boursouflure */

.tree.cloud .foliage .extra-puff {
    position: absolute;
    background: inherit;
    border-radius: 50%;
    width: 80px;
    height: 80px;
    bottom: -15px;
    left: 0px;
    z-index: -1; 
}

.tree.cloud .foliage .extra-puff2 {
    position: absolute;
    background: inherit;
    border-radius: 50%;
    width: 80px;
    height: 80px;
    top: 10px;
    left: 80px;
    z-index: -1; 
}


/* --- Les Branches Internes (Le "V") --- */
.tree.cloud .inner-branch {
    position: absolute;
    bottom: 0px;
    left: 50%;
    width: 7px;
    height: 50px;
    background-color: #5D4037;
    transform-origin: bottom center;
    transform: translateX(-50%) rotate(-18deg); /* Branche gauche */
    border-radius: 3px;
    /* opacity: 0.8; */
    z-index: 4; /* Devant le feuillage de base */
}

/* Deuxième branche du V */
.tree.cloud .inner-branch::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 7px;
    height: 45px;
    background-color: inherit;
    transform-origin: bottom center;
    transform: rotate(36deg); /* Branche droite */
    border-radius: 3px;
}

/* --- Animation du balancement (à mettre dans ton CSS principal si pas déjà fait) --- */
@keyframes swayTree {
    0% { transform: translateX(-50%) rotate(-2deg); }
    100% { transform: translateX(-50%) rotate(2deg); }
}



#a1 { left: 10%; bottom: 40%; top: auto; }
#a2 { right: 20%; bottom: 5%; top: auto; }
#a3 { left: 25%; bottom: 15%; }
#a4 { right: 7%; bottom: 30%;}


/* --- Nuages SVG animés --- */
.cloud-svg {
    position: absolute;
    left: -150px; /* Point de départ fixe à gauche */
    width: 120px;
    z-index: 3;
    pointer-events: none;
    will-change: transform;
    top: var(--rand-top);
    /* Utilise forwards pour éviter qu'ils ne reviennent au début après l'anim */
    animation: moveCloud var(--rand-duration) linear forwards;
}

@keyframes moveCloud {
    from {
        transform: translateX(0) scale(var(--base-scale, 1));
    }
    to {
        /* On traverse toute la largeur + la taille du nuage */
        transform: translateX(calc(100vw + 300px)) scale(var(--base-scale, 1));
    }
}


.ruche-image
{
    position: absolute;
    /* On se base sur les coordonnées de #a4 (right: 7%, bottom: 30%) */
    right: 9%;    /* On augmente le right pour la décaler à gauche de l'arbre */
    bottom: 30%;   /* Légèrement plus bas que la base de l'arbre pour le relief */

    width: 200px;  /* Taille ajustée pour l'arbre cloud */
    height: auto;
    z-index: 6;    /* Un cran au-dessus de l'arbre (z-index: 5) pour être devant */

    cursor: pointer;
    transition: transform 0.3s ease
}

.ruche-image:hover {
    transform: scale(1.1) rotate(-5deg); /* Petit effet d'oscillation au survol */
}


/* --- Le Soleil Scintillant --- */

.sun-container {
    position: absolute;
    top: 30px;    /* Position dans le ciel */
    right: 30px;  /* Coin supérieur droit */
    width: 140px; /* Taille globale */
    height: 140px;
    z-index: 2;   /* Derrière les nuages (3) et les arbres (5) */
    
    /* Lueur dorée globale autour du soleil */
    filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.8));
    
    /* Optimisation des animations */
    will-change: transform;
    /* Petite animation de flottement global */
    animation: sunFloat 8s ease-in-out infinite alternate;
}

/* Style des rayons */
.sun-rays line {
    stroke: #FFC107; /* Couleur or/ambre */
    stroke-width: 6;
    stroke-linecap: round; /* Bouts arrondis pour un look doux */
}

/* Le cœur du soleil */
.sun-core {
    /* Animation de pulsation (taille et luminosité) */
    animation: sunPulse 4s ease-in-out infinite alternate;
    transform-origin: center;
}

/* Animation de rotation pour les rayons */
.rays-slow {
    animation: spin 25s linear infinite;
    transform-origin: center;
}

.rays-fast line {
    stroke: #FFD700; /* Un jaune un peu plus clair */
    stroke-width: 4; /* Rayons plus fins */
}
.rays-fast {
    /* Tourne plus vite en sens inverse */
    animation: spin 12s linear infinite reverse;
    transform-origin: center;
}

/* --- Définition des Animations Clés --- */

@keyframes spin {
    100% { transform: rotate(360deg); }
}

@keyframes sunPulse {
    0% { 
        transform: scale(1); 
        filter: brightness(1);
    }
    100% { 
        transform: scale(1.1); /* Grossit légèrement */
        filter: brightness(1.15); /* Devient plus lumineux */
    }
}

@keyframes sunFloat {
    0% { transform: translateY(0); }
    100% { transform: translateY(-10px); }
}


/* --- Fleurs images semées aléatoirement --- */
.scattered-flower {
    position: absolute;
    width: 60px; /* Taille de base, sera ajustée par le JS */
    height: auto;
    z-index: 4; /* Juste derrière les arbres (z-index: 5) */
    pointer-events: none; /* Le clic passe à travers */
    
    /* Le point de pivot est en bas, là où est la tige */
    transform-origin: bottom center;
    
    /* Animation douce */
    animation: imageFlowerSway 3s ease-in-out infinite alternate;
    
    /* Petite ombre pour les détacher du sol */
    filter: drop-shadow(0 3px 3px rgba(0,0,0,0.2));
}

/* Animation de balancement qui prend en compte l'échelle aléatoire */
@keyframes imageFlowerSway {
    0% { transform: rotate(-8deg) scale(var(--rand-scale)); }
    100% { transform: rotate(8deg) scale(var(--rand-scale)); }
}


@media (max-width: 768px) {
    .tree {
        /* On réduit la taille globale des arbres de 40% sur mobile */
        transform: scale(0.6) !important;
    }
    
    .teardrop .foliage {
        height: 120px; /* On réduit un peu la hauteur spécifique */
    }

    .tree.cloud {
        width: 120px;
        height: 150px;
    }

    #a1 { left: 10%; bottom: 25%; top: auto; }
    #a2 { right: 20%; bottom: 5%; top: auto; }
    #a3 { left: 25%; bottom: 15%; }
    #a4 { right: 7%; bottom: 20%;}

    .ruche-image
    {
        right: 2%;    /* On augmente le right pour la décaler à gauche de l'arbre */
        bottom: 20%;
        width: 150px;  /* Taille ajustée pour l'arbre cloud */
        height: auto;
    }

}
